<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Eval (Lua.Lua_lib.Interpreter.Eval)</title><link rel="stylesheet" href="../../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../../index.html">Lua</a> &#x00BB; <a href="../../index.html">Lua_lib</a> &#x00BB; <a href="../index.html">Interpreter</a> &#x00BB; Eval</nav><h1>Module <code>Interpreter.Eval</code></h1></header><h3 class="heading">Parameters</h3><ul><li><code><a href="argument-1-M/index.html">M</a> : <a href="../index.html#module-type-MONADERROR">MONADERROR</a></code></li></ul><h3 class="heading">Signature</h3><dl><dt class="spec value" id="val-transform_to_number"><a href="#val-transform_to_number" class="anchor"></a><code><span class="keyword">val</span> transform_to_number : <a href="../../Ast/index.html#type-value">Ast.value</a> <span>&#45;&gt;</span> <a href="../../Ast/index.html#type-value">Ast.value</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span>(float * float, <span class="type-var">'a</span>)</span> Stdlib.result</span></code></dt><dt class="spec value" id="val-(///)"><a href="#val-(///)" class="anchor"></a><code><span class="keyword">val</span> (///) : float <span>&#45;&gt;</span> float <span>&#45;&gt;</span> float</code></dt><dt class="spec value" id="val-(%%)"><a href="#val-(%%)" class="anchor"></a><code><span class="keyword">val</span> (%%) : float <span>&#45;&gt;</span> float <span>&#45;&gt;</span> float</code></dt><dt class="spec value" id="val-compare_values"><a href="#val-compare_values" class="anchor"></a><code><span class="keyword">val</span> compare_values : <a href="../../Ast/index.html#type-value">Ast.value</a> <span>&#45;&gt;</span> <a href="../../Ast/index.html#type-value">Ast.value</a> <span>&#45;&gt;</span> <a href="../../Ast/index.html#type-relop">Ast.relop</a> <span>&#45;&gt;</span> <span><a href="../../Ast/index.html#type-value">Ast.value</a> <a href="argument-1-M/index.html#type-t">M.t</a></span></code></dt><dt class="spec value" id="val-is_true"><a href="#val-is_true" class="anchor"></a><code><span class="keyword">val</span> is_true : <a href="../../Ast/index.html#type-value">Ast.value</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-string_of_value"><a href="#val-string_of_value" class="anchor"></a><code><span class="keyword">val</span> string_of_value : <a href="../../Ast/index.html#type-value">Ast.value</a> <span>&#45;&gt;</span> string</code></dt></dl><dl><dt class="spec type" id="type-variables"><a href="#type-variables" class="anchor"></a><code><span class="keyword">type</span> variables</code><code> = <span><span>(<a href="../../Ast/index.html#type-name">Ast.name</a>, <a href="../../Ast/index.html#type-value">Ast.value</a>)</span> <a href="../../Hashtbl_p/Hashtbl_p/index.html#type-t">Hashtbl_p.Hashtbl_p.t</a></span></code></dt></dl><dl><dt class="spec value" id="val-pp_variables"><a href="#val-pp_variables" class="anchor"></a><code><span class="keyword">val</span> pp_variables : Ppx_deriving_runtime.Format.formatter <span>&#45;&gt;</span> <a href="index.html#type-variables">variables</a> <span>&#45;&gt;</span> Ppx_deriving_runtime.unit</code></dt><dt class="spec value" id="val-show_variables"><a href="#val-show_variables" class="anchor"></a><code><span class="keyword">val</span> show_variables : <a href="index.html#type-variables">variables</a> <span>&#45;&gt;</span> Ppx_deriving_runtime.string</code></dt></dl><dl><dt class="spec type" id="type-jump_statement"><a href="#type-jump_statement" class="anchor"></a><code><span class="keyword">type</span> jump_statement</code><code> = </code><table class="variant"><tr id="type-jump_statement.Default" class="anchored"><td class="def constructor"><a href="#type-jump_statement.Default" class="anchor"></a><code>| </code><code><span class="constructor">Default</span></code></td></tr><tr id="type-jump_statement.Return" class="anchored"><td class="def constructor"><a href="#type-jump_statement.Return" class="anchor"></a><code>| </code><code><span class="constructor">Return</span></code></td></tr><tr id="type-jump_statement.Break" class="anchored"><td class="def constructor"><a href="#type-jump_statement.Break" class="anchor"></a><code>| </code><code><span class="constructor">Break</span></code></td></tr></table></dt></dl><dl><dt class="spec value" id="val-pp_jump_statement"><a href="#val-pp_jump_statement" class="anchor"></a><code><span class="keyword">val</span> pp_jump_statement : Ppx_deriving_runtime.Format.formatter <span>&#45;&gt;</span> <a href="index.html#type-jump_statement">jump_statement</a> <span>&#45;&gt;</span> Ppx_deriving_runtime.unit</code></dt><dt class="spec value" id="val-show_jump_statement"><a href="#val-show_jump_statement" class="anchor"></a><code><span class="keyword">val</span> show_jump_statement : <a href="index.html#type-jump_statement">jump_statement</a> <span>&#45;&gt;</span> Ppx_deriving_runtime.string</code></dt></dl><dl><dt class="spec type" id="type-environment"><a href="#type-environment" class="anchor"></a><code><span class="keyword">type</span> environment</code><code> = </code><code>{</code><table class="record"><tr id="type-environment.vars" class="anchored"><td class="def field"><a href="#type-environment.vars" class="anchor"></a><code>vars : <a href="index.html#type-variables">variables</a>;</code></td></tr><tr id="type-environment.last_value" class="anchored"><td class="def field"><a href="#type-environment.last_value" class="anchor"></a><code>last_value : <a href="../../Ast/index.html#type-value">Ast.value</a>;</code></td></tr><tr id="type-environment.prev_env" class="anchored"><td class="def field"><a href="#type-environment.prev_env" class="anchor"></a><code>prev_env : <span><a href="index.html#type-environment">environment</a> option</span>;</code></td></tr><tr id="type-environment.is_func" class="anchored"><td class="def field"><a href="#type-environment.is_func" class="anchor"></a><code>is_func : bool;</code></td></tr><tr id="type-environment.is_loop" class="anchored"><td class="def field"><a href="#type-environment.is_loop" class="anchor"></a><code>is_loop : bool;</code></td></tr><tr id="type-environment.jump_stmt" class="anchored"><td class="def field"><a href="#type-environment.jump_stmt" class="anchor"></a><code>jump_stmt : <a href="index.html#type-jump_statement">jump_statement</a>;</code></td></tr><tr id="type-environment.last_env" class="anchored"><td class="def field"><a href="#type-environment.last_env" class="anchor"></a><code>last_env : <span><a href="index.html#type-environment">environment</a> option</span>;</code></td></tr></table><code>}</code></dt></dl><dl><dt class="spec value" id="val-pp_environment"><a href="#val-pp_environment" class="anchor"></a><code><span class="keyword">val</span> pp_environment : Ppx_deriving_runtime.Format.formatter <span>&#45;&gt;</span> <a href="index.html#type-environment">environment</a> <span>&#45;&gt;</span> Ppx_deriving_runtime.unit</code></dt><dt class="spec value" id="val-show_environment"><a href="#val-show_environment" class="anchor"></a><code><span class="keyword">val</span> show_environment : <a href="index.html#type-environment">environment</a> <span>&#45;&gt;</span> Ppx_deriving_runtime.string</code></dt><dt class="spec value" id="val-find_var"><a href="#val-find_var" class="anchor"></a><code><span class="keyword">val</span> find_var : <a href="../../Ast/index.html#type-name">Ast.name</a> <span>&#45;&gt;</span> <span><a href="index.html#type-environment">environment</a> option</span> <span>&#45;&gt;</span> <span><a href="../../Ast/index.html#type-value">Ast.value</a> <a href="argument-1-M/index.html#type-t">M.t</a></span></code></dt><dt class="spec value" id="val-eval_expr"><a href="#val-eval_expr" class="anchor"></a><code><span class="keyword">val</span> eval_expr : <span><a href="index.html#type-environment">environment</a> option</span> <span>&#45;&gt;</span> <a href="../../Ast/index.html#type-expr">Ast.expr</a> <span>&#45;&gt;</span> <span><a href="../../Ast/index.html#type-value">Ast.value</a> <a href="argument-1-M/index.html#type-t">M.t</a></span></code></dt><dt class="spec value" id="val-table_append"><a href="#val-table_append" class="anchor"></a><code><span class="keyword">val</span> table_append : <span><span>(<a href="../../Ast/index.html#type-name">Ast.name</a>, <a href="../../Ast/index.html#type-value">Ast.value</a>)</span> <a href="../../Hashtbl_p/Hashtbl_p/index.html#type-t">Hashtbl_p.Hashtbl_p.t</a></span> <span>&#45;&gt;</span> <span><a href="index.html#type-environment">environment</a> option</span> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span><a href="../../Ast/index.html#type-expr">Ast.expr</a> list</span> <span>&#45;&gt;</span> <span><a href="../../Ast/index.html#type-value">Ast.value</a> <a href="argument-1-M/index.html#type-t">M.t</a></span></code></dt><dt class="spec value" id="val-table_create"><a href="#val-table_create" class="anchor"></a><code><span class="keyword">val</span> table_create : <span><a href="index.html#type-environment">environment</a> option</span> <span>&#45;&gt;</span> <span><a href="../../Ast/index.html#type-expr">Ast.expr</a> list</span> <span>&#45;&gt;</span> <span><a href="../../Ast/index.html#type-value">Ast.value</a> <a href="argument-1-M/index.html#type-t">M.t</a></span></code></dt><dt class="spec value" id="val-table_find"><a href="#val-table_find" class="anchor"></a><code><span class="keyword">val</span> table_find : <span><a href="index.html#type-environment">environment</a> option</span> <span>&#45;&gt;</span> <a href="../../Ast/index.html#type-name">Ast.name</a> <span>&#45;&gt;</span> <a href="../../Ast/index.html#type-expr">Ast.expr</a> <span>&#45;&gt;</span> <span><a href="../../Ast/index.html#type-value">Ast.value</a> <a href="argument-1-M/index.html#type-t">M.t</a></span></code></dt><dt class="spec value" id="val-func_call"><a href="#val-func_call" class="anchor"></a><code><span class="keyword">val</span> func_call : <span><a href="index.html#type-environment">environment</a> option</span> <span>&#45;&gt;</span> <a href="../../Ast/index.html#type-name">Ast.name</a> <span>&#45;&gt;</span> <span><a href="../../Ast/index.html#type-expr">Ast.expr</a> list</span> <span>&#45;&gt;</span> <span><span><a href="index.html#type-environment">environment</a> option</span> <a href="argument-1-M/index.html#type-t">M.t</a></span></code></dt><dt class="spec value" id="val-eval_stmt"><a href="#val-eval_stmt" class="anchor"></a><code><span class="keyword">val</span> eval_stmt : <span><a href="index.html#type-environment">environment</a> option</span> <span>&#45;&gt;</span> <a href="../../Ast/index.html#type-statement">Ast.statement</a> <span>&#45;&gt;</span> <span><span><a href="index.html#type-environment">environment</a> option</span> <a href="argument-1-M/index.html#type-t">M.t</a></span></code></dt><dt class="spec value" id="val-get_env"><a href="#val-get_env" class="anchor"></a><code><span class="keyword">val</span> get_env : <span><a href="index.html#type-environment">environment</a> option</span> <span>&#45;&gt;</span> <span><a href="index.html#type-environment">environment</a> <a href="argument-1-M/index.html#type-t">M.t</a></span></code></dt><dt class="spec value" id="val-create_next_env"><a href="#val-create_next_env" class="anchor"></a><code><span class="keyword">val</span> create_next_env : <span><a href="index.html#type-environment">environment</a> option</span> <span>&#45;&gt;</span> <span><a href="index.html#type-environment">environment</a> <a href="argument-1-M/index.html#type-t">M.t</a></span></code></dt><dt class="spec value" id="val-eval_vardec"><a href="#val-eval_vardec" class="anchor"></a><code><span class="keyword">val</span> eval_vardec : bool <span>&#45;&gt;</span> <span><a href="index.html#type-environment">environment</a> option</span> <span>&#45;&gt;</span> <span><span>(<a href="../../Ast/index.html#type-expr">Ast.expr</a> * <a href="../../Ast/index.html#type-expr">Ast.expr</a>)</span> list</span> <span>&#45;&gt;</span> <span><span><a href="index.html#type-environment">environment</a> option</span> <a href="argument-1-M/index.html#type-t">M.t</a></span></code></dt><dt class="spec value" id="val-assign"><a href="#val-assign" class="anchor"></a><code><span class="keyword">val</span> assign : <a href="../../Ast/index.html#type-name">Ast.name</a> <span>&#45;&gt;</span> <a href="../../Ast/index.html#type-value">Ast.value</a> <span>&#45;&gt;</span> bool <span>&#45;&gt;</span> <span><a href="index.html#type-environment">environment</a> option</span> <span>&#45;&gt;</span> <span><span><a href="index.html#type-environment">environment</a> option</span> <a href="argument-1-M/index.html#type-t">M.t</a></span></code></dt><dt class="spec value" id="val-eval_if"><a href="#val-eval_if" class="anchor"></a><code><span class="keyword">val</span> eval_if : <span><a href="index.html#type-environment">environment</a> option</span> <span>&#45;&gt;</span> <span><span>(<a href="../../Ast/index.html#type-expr">Ast.expr</a> * <a href="../../Ast/index.html#type-statement">Ast.statement</a>)</span> list</span> <span>&#45;&gt;</span> <span><span><a href="index.html#type-environment">environment</a> option</span> <a href="argument-1-M/index.html#type-t">M.t</a></span></code></dt><dt class="spec value" id="val-eval_block"><a href="#val-eval_block" class="anchor"></a><code><span class="keyword">val</span> eval_block : <span><a href="index.html#type-environment">environment</a> option</span> <span>&#45;&gt;</span> <span><a href="../../Ast/index.html#type-statement">Ast.statement</a> list</span> <span>&#45;&gt;</span> <span><span><a href="index.html#type-environment">environment</a> option</span> <a href="argument-1-M/index.html#type-t">M.t</a></span></code></dt><dt class="spec value" id="val-set_last_env"><a href="#val-set_last_env" class="anchor"></a><code><span class="keyword">val</span> set_last_env : <a href="index.html#type-environment">environment</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-eval_return"><a href="#val-eval_return" class="anchor"></a><code><span class="keyword">val</span> eval_return : <a href="index.html#type-environment">environment</a> <span>&#45;&gt;</span> <a href="../../Ast/index.html#type-expr">Ast.expr</a> <span>&#45;&gt;</span> <span><span><a href="index.html#type-environment">environment</a> option</span> <a href="argument-1-M/index.html#type-t">M.t</a></span></code></dt><dt class="spec value" id="val-eval_break"><a href="#val-eval_break" class="anchor"></a><code><span class="keyword">val</span> eval_break : <a href="index.html#type-environment">environment</a> <span>&#45;&gt;</span> <span><span><a href="index.html#type-environment">environment</a> option</span> <a href="argument-1-M/index.html#type-t">M.t</a></span></code></dt><dt class="spec value" id="val-eval_while"><a href="#val-eval_while" class="anchor"></a><code><span class="keyword">val</span> eval_while : <a href="../../Ast/index.html#type-expr">Ast.expr</a> <span>&#45;&gt;</span> <a href="../../Ast/index.html#type-statement">Ast.statement</a> <span>&#45;&gt;</span> <span><a href="index.html#type-environment">environment</a> option</span> <span>&#45;&gt;</span> <span><span><a href="index.html#type-environment">environment</a> option</span> <a href="argument-1-M/index.html#type-t">M.t</a></span></code></dt><dt class="spec value" id="val-eval_for"><a href="#val-eval_for" class="anchor"></a><code><span class="keyword">val</span> eval_for : <a href="../../Ast/index.html#type-name">Ast.name</a> <span>&#45;&gt;</span> <span><a href="../../Ast/index.html#type-expr">Ast.expr</a> list</span> <span>&#45;&gt;</span> <a href="../../Ast/index.html#type-statement">Ast.statement</a> <span>&#45;&gt;</span> <span><a href="index.html#type-environment">environment</a> option</span> <span>&#45;&gt;</span> <span><span><a href="index.html#type-environment">environment</a> option</span> <a href="argument-1-M/index.html#type-t">M.t</a></span></code></dt><dt class="spec value" id="val-for_numerical"><a href="#val-for_numerical" class="anchor"></a><code><span class="keyword">val</span> for_numerical : <a href="../../Ast/index.html#type-name">Ast.name</a> <span>&#45;&gt;</span> <span>float list</span> <span>&#45;&gt;</span> <a href="../../Ast/index.html#type-statement">Ast.statement</a> <span>&#45;&gt;</span> <span><a href="index.html#type-environment">environment</a> option</span> <span>&#45;&gt;</span> <span><span><a href="index.html#type-environment">environment</a> option</span> <a href="argument-1-M/index.html#type-t">M.t</a></span></code></dt><dt class="spec value" id="val-eval_prog"><a href="#val-eval_prog" class="anchor"></a><code><span class="keyword">val</span> eval_prog : <span><a href="../../Ast/index.html#type-statement">Ast.statement</a> option</span> <span>&#45;&gt;</span> <span><a href="index.html#type-environment">environment</a> <a href="argument-1-M/index.html#type-t">M.t</a></span></code></dt></dl></div></body></html>